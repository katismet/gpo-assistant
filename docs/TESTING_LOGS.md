# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

## ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤ –±–æ—Ç–µ —Ç–µ–ø–µ—Ä—å –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∏ —Å –º–µ—Ç–∫–æ–π `[LPA]` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.

## üìÅ –§–∞–π–ª—ã –ª–æ–≥–æ–≤

1. **`logs/app.log`** - –æ—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (loguru)
2. **`logs/errors.log`** - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
3. **`bot.log`** - –ª–æ–≥–∏ –∏–∑ bot.py (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π logging)

## üîç –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### –°–æ–±—ã—Ç–∏—è –õ–ü–ê:
- `[LPA] User X selected object Y` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª –æ–±—ä–µ–∫—Ç
- `[LPA] Searching for closed shifts...` - –Ω–∞—á–∞—Ç –ø–æ–∏—Å–∫ –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–º–µ–Ω
- `[LPA] ‚úÖ Found closed shift in Bitrix24` - –Ω–∞–π–¥–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∞—è —Å–º–µ–Ω–∞ –≤ Bitrix24
- `[LPA] ‚úÖ Found closed shift in local DB` - –Ω–∞–π–¥–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∞—è —Å–º–µ–Ω–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
- `[LPA] No closed shifts found` - –∑–∞–∫—Ä—ã—Ç—ã–µ —Å–º–µ–Ω—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
- `[LPA] User X clicked 'generate_lpa' button` - –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- `[LPA] User X clicked 'cancel_lpa' button` - –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã
- `[LPA] Starting LPA generation` - –Ω–∞—á–∞—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –õ–ü–ê

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
```bash
python tools/monitor_lpa_logs.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: PowerShell (Windows)
```powershell
Get-Content logs\app.log -Wait -Tail 50 | Select-String "\[LPA\]"
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```powershell
# –í—Å–µ –ª–æ–≥–∏ –õ–ü–ê
Select-String -Path "logs\app.log", "bot.log" -Pattern "\[LPA\]"

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
Select-String -Path "logs\errors.log" -Pattern "\[LPA\]"
```

## üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω)
2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   python tools/monitor_lpa_logs.py
   ```
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –õ–ü–ê:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞
   - –ù–∞–∂–º–∏—Ç–µ "üßæ –õ–ü–ê"
   - –í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–∞—Ö–æ–¥–∏—Ç –ª–∏ –±–æ—Ç –∑–∞–∫—Ä—ã—Ç—ã–µ —Å–º–µ–Ω—ã
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫–∏ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –õ–ü–ê" –∏ "–û—Ç–º–µ–Ω–∞"
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìù –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –æ–±—ä–µ–∫—Ç
2. ‚úÖ –ò—â—É—Ç—Å—è –ª–∏ –∑–∞–∫—Ä—ã—Ç—ã–µ —Å–º–µ–Ω—ã
3. ‚úÖ –ù–∞—Ö–æ–¥—è—Ç—Å—è –ª–∏ —Å–º–µ–Ω—ã –≤ Bitrix24 –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î
4. ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç –ª–∏ –∫–Ω–æ–ø–∫–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∏ –æ –Ω–∞–∂–∞—Ç–∏—è—Ö)
5. ‚úÖ –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ `logs/errors.log`)

## üîß –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫:
   ```powershell
   Select-String -Path "logs\errors.log" -Pattern "LPA"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏:
   ```powershell
   Get-Content logs\app.log -Tail 100 | Select-String "\[LPA\]"
   ```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è

## üìå –í–∞–∂–Ω–æ

- –õ–æ–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –±–æ—Ç–∞
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –õ–ü–ê –ø–æ–º–µ—á–µ–Ω—ã –º–µ—Ç–∫–æ–π `[LPA]`
- –õ–æ–≥–∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ (—Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)
- –û—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ `logs/errors.log`


