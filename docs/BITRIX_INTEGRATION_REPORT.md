# –û—Ç—á–µ—Ç –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Bitrix24 REST API

**–î–∞—Ç–∞:** 2025-11-07 15:15:13  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ REST API fully functional

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è Bitrix24
- –í—ã–ø–æ–ª–Ω–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `make sync-bitrix` (–∏–ª–∏ `python scripts/sync_bitrix_env.py`)
- –û–±–Ω–æ–≤–ª–µ–Ω `.env`:
  - `ENTITY_OBJECT=1046`
  - `ENTITY_SHIFT=1050`
  - `ENTITY_RESOURCE=1056`
  - `ENTITY_TIMESHEET=1060`
- –û–±–Ω–æ–≤–ª–µ–Ω `bitrix_field_map.json` —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ entityTypeId

### 2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Bitrix24
- **crm.item.add**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (—Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç id=9)
- **crm.item.update**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (–æ–±–Ω–æ–≤–ª–µ–Ω —ç–ª–µ–º–µ–Ω—Ç id=9)
- **crm.item.get**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **crm.item.list**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç
- **crm.item.fields**: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

### 3. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤

#### W3 - –†–µ—Å—É—Ä—Å—ã
- ‚úÖ –¢–µ—Ö–Ω–∏–∫–∞: —Å–æ–∑–¥–∞–Ω —ç–ª–µ–º–µ–Ω—Ç id=11
- ‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª: —Å–æ–∑–¥–∞–Ω —ç–ª–µ–º–µ–Ω—Ç id=13

#### W4 - –¢–∞–±–µ–ª—å
- ‚úÖ –¢–∞–±–µ–ª—å: —Å–æ–∑–¥–∞–Ω —ç–ª–µ–º–µ–Ω—Ç id=1

#### W2 - –°–º–µ–Ω–∞
- ‚úÖ –°–º–µ–Ω–∞: —Å–æ–∑–¥–∞–Ω —ç–ª–µ–º–µ–Ω—Ç id=19

### 4. üìä –°–≤–æ–¥–∫–∞ –ø–æ —Å—É—â–Ω–æ—Å—Ç—è–º

| –°—É—â–Ω–æ—Å—Ç—å | entityTypeId | –í—Å–µ–≥–æ –ø–æ–ª–µ–π | UF –ø–æ–ª–µ–π | –≠–ª–µ–º–µ–Ω—Ç–æ–≤ |
|----------|--------------|-------------|----------|-----------|
| –û–±—ä–µ–∫—Ç   | 1046         | 1           | 0        | 0         |
| –°–º–µ–Ω–∞    | 1050         | 1           | 0        | 0         |
| –†–µ—Å—É—Ä—Å   | 1056         | 1           | 0        | 0         |
| –¢–∞–±–µ–ª—å   | 1060         | 1           | 0        | 0         |

### 5. ‚ö†Ô∏è –ó–∞–º–µ—á–∞–Ω–∏—è

1. **UF –ø–æ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã**: –í Bitrix24 –ø–æ–∫–∞ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–æ–ª—è (UF_*) –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π. –≠—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
   - –î–ª—è "–†–µ—Å—É—Ä—Å": UF_SHIFT_ID, UF_RESOURCE_TYPE, UF_EQUIP_TYPE, UF_EQUIP_HOURS, UF_EQUIP_RATE_TYPE, UF_EQUIP_RATE, UF_MAT_TYPE, UF_MAT_QTY, UF_MAT_UNIT, UF_MAT_PRICE
   - –î–ª—è "–¢–∞–±–µ–ª—å": UF_SHIFT_ID, UF_WORKER, UF_HOURS, UF_RATE
   - –î–ª—è "–°–º–µ–Ω–∞": –ø–æ–ª—è –¥–ª—è —Å–≤—è–∑–∏ —Å –æ–±—ä–µ–∫—Ç–æ–º –∏ –¥–∞—Ç–æ–π

2. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã**: –ö–æ–º–∞–Ω–¥—ã `/debug_w3` –∏ `/debug_w4` –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ UF –ø–æ–ª–µ–π (—Å–æ–∑–¥–∞—é—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Ç–æ–ª—å–∫–æ —Å TITLE, –µ—Å–ª–∏ UF –ø–æ–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã).

### 6. üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–°–æ–∑–¥–∞—Ç—å UF –ø–æ–ª—è –≤ Bitrix24** –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–µ–π "–†–µ—Å—É—Ä—Å", "–¢–∞–±–µ–ª—å" –∏ "–°–º–µ–Ω–∞"
2. **–ü–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é** –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–µ–π: `make sync-bitrix`
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ Telegram –±–æ—Ç–µ**:
   - `/debug_w3` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
   - `/debug_w4` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–µ–ª—è
4. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å W2 (–ø–ª–∞–Ω-—Ñ–∞–∫—Ç)** –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –õ–ü–ê
5. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å W6** (–∞–ª–µ—Ä—Ç—ã –∏ —Å–≤–æ–¥—ã) –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

## –§–∞–π–ª—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

- `bitrix_integration_test.json` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `bitrix_field_map.json` - –∫–∞—Ä—Ç–∞ –ø–æ–ª–µ–π Bitrix24
- `bitrix_uf_fields.json` - –ø—Ä–æ–≤–µ—Ä–∫–∞ UF –ø–æ–ª–µ–π
- `.env` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

‚úÖ **REST API –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω**  
‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç**  
‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç**  
‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ UF –ø–æ–ª–µ–π –≤ Bitrix24 –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è UF –ø–æ–ª–µ–π –≤ Bitrix24.




